## Анализ и технические требования

### Сервер должен реализовывать следующую бизнес-логику:
- регистрация, аутентификация и авторизация пользователей;
    - По запросу клиента сервер генерирует Access Token и Refresh Token;
    - Будем гарантировать, что клиентское приложение удалит токены авторизации по запросу пользователя.
    
- хранение приватных данных; 

    Так как идея приложения заключается в том, что бы предоставить пользователю возможность обеспечить для своих данных надежную защиту, то необходимо предоставить ему возможность шифровать добавляемые данные вне зависимости от типа данных. Также любая метаинформация прикрепленная к основному объекту хранения должна быть зашифрована с целью невозможности скомпрометировать пользователя, в случае, если злоумышленники получат доступ к базе данных. Необходимо не допустить попадание пользовательской информации в журнал логирования.

- синхронизация данных между несколькими авторизованными клиентами одного владельца;

    Синхронизация данных будет происходить онлайн. 

- передача приватных данных владельцу по запросу.

### Клиент должен реализовывать следующую бизнес-логику:
- аутентификация и авторизация пользователей на удалённом сервере;

    1. Авторизация по логину и паролю;
  ```
  % client register
    Enter email (z-aA-Z1-9): ...
    Enter password (z-aA-Z1-9): ...
    Confirm password (z-aA-Z1-9): ...
  
  You are successful registered! But need to confirm the emil addres for sinc clients and remote servier.
  ```
    2. Авторизированный клиент хранит токен авторизации в переменной окружения.
    3. клиент может сбросить сессию авторизации.
  ```
  % client logout
  
  You are successful logout!
  ```
- доступ к приватным данным по запросу.

### Функции, реализация которых остаётся на усмотрение исполнителя:
- создание, редактирование и удаление данных на стороне сервера или клиента;
- формат регистрации нового пользователя;
- выбор хранилища и формат хранения данных;
- обеспечение безопасности передачи и хранения данных;
- протокол взаимодействия клиента и сервера;
  Протокол взаимодействия с сервером будет построен на базе gRPC.

- механизмы аутентификации пользователя и авторизации доступа к информации.

### Дополнительные требования:
- клиент должен распространяться в виде CLI-приложения с возможностью запуска на платформах Windows, Linux и Mac OS;
- клиент должен давать пользователю возможность получить информацию о версии и дате сборки бинарного файла клиента;

- придерживаться принципов чистой архитектуры;
- реализовать Graceful Shutdown для клиента и сервера;
- README.md должен описывать инструкции для локального запуска проекта, тестирования и запуска линтера;
- схема БД должна быть описана с помощью механизма миграций;
- добавить CodeCov Report в PR;
- В CI должен быть добавлен линтер https://github.com/golangci/golangci-lint;
- Нужно валидировать входные параметры в запросах. Если используются proto файлы, то с помощью https://github.com/bufbuild/protovalidate-go;
- Добавить docker-compose для сервиса.

### Типы хранимой информации
- пары логин/пароль;
- произвольные текстовые;
- произвольные бинарные;
- данные банковских карт.

Для любых данных должна быть возможность хранения произвольной текстовой метаинформации (принадлежность данных к веб-сайту, личности или банку, списки одноразовых кодов активации и прочее).

Нужно учитывать, что текстовые и бинарные данные могут быть любого объема.

На основе ТЗ выделены основные типы данных:
- текстовые данные:
    - string
    - file:
        - .txt
        - .json
        - .csv
        - .xml
        - .html
        - .sh
        - ...
- бинарные данные:
    - .exe
    - .bin
    - .jpg
    - .png
    - .zip
    - ...

### Абстрактная схема взаимодействия с системой

Ниже описаны базовые сценарии взаимодействия пользователя с системой:
Они не являются исчерпывающими — решение отдельных сценариев (например, разрешение конфликтов данных на сервере) остаётся на усмотрение исполнителя.

#### Для нового пользователя:
1. Пользователь получает клиент под необходимую ему платформу.
2. Пользователь проходит процедуру первичной регистрации.
3. Пользователь добавляет в клиент новые данные.
4. Клиент синхронизирует данные с сервером.

#### Для существующего пользователя:
1. Пользователь получает клиент под необходимую ему платформу.
2. Пользователь проходит процедуру аутентификации.
3. Клиент синхронизирует данные с сервером.
4. Пользователь запрашивает данные.
5. Клиент отображает данные для пользователя.

### Тестирование и документация
Код всей системы должен быть покрыт юнит-тестами не менее чем на 80%. Каждая экспортированная функция, тип, переменная, а также пакет системы должны содержать исчерпывающую документацию.

### Необязательные функции
Перечисленные ниже функции необязательны к имплементации, однако позволяют лучше оценить степень экспертизы исполнителя. Исполнитель может реализовать любое количество из представленных ниже функций на свой выбор:
- поддержка данных типа OTP (one time password);
- поддержка терминального интерфейса (TUI — terminal user interface);
- использование бинарного протокола;
- наличие функциональных и/или интеграционных тестов;
- описание протокола взаимодействия клиента и сервера в формате Swagger.